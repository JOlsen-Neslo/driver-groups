<% provide(:title, 'Edit Profile') %>
<h1 class="text-center">Edit Profile</h1>

<div class="row">
    <div class="col-md-6 col-md-offset-3">
        <%= form_for(@user) do |u| %>
            <%= render 'shared/error_messages' %>

            <%= u.fields_for :person_attributes, @user.person do |p| %>

                <%= p.fields_for :name_attributes, @user.person.name do |n| %>
                    <%= n.label :name %>
                    <%= n.text_field :value, class: 'form-control' %>
                <% end %>

                <%= p.label :date_of_birth %>
                <%= p.date_field :date_of_birth, class: 'form-control' %>

            <% end %>

            <%= u.label :username %>
            <%= u.text_field :username, class: 'form-control' %>

            <%= u.label :password %>
            <%= u.password_field :password, class: 'form-control' %>

            <%= u.label :password_confirmation %>
            <%= u.password_field :password_confirmation, class: 'form-control' %>

            <div class="text-center">
                <%= u.submit 'Submit', class: "btn btn-primary mt-2" %>
            </div>
        <% end %>
    </div>
</div>
